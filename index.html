<!DOCTYPE html>
<html>
<head>
  <title>Focus Monitor ðŸŽ¯</title>
  <style>
    body {
      text-align:center;
      background:#111;
      color:white;
      font-family:Arial;
    }
    video {
      border:4px solid lime;
      margin-top:20px;
    }
  </style>
</head>

<body>

<h1>Focus Monitor ðŸŽ¯</h1>
<p id="status">Starting camera...</p>
<video id="video" width="640" height="480" autoplay muted></video>

<script>
const video = document.getElementById("video");
const status = document.getElementById("status");

let lastAlert = 0;

// Start camera
navigator.mediaDevices.getUserMedia({ video:true })
.then(stream => {
  video.srcObject = stream;
  status.innerText = "Camera active âœ… Stay focused!";
})
.catch(() => {
  status.innerText = "Camera permission denied âŒ";
});

// Create louder repeating alarm
function playAlert(){
  if(Date.now() - lastAlert > 4000){
    lastAlert = Date.now();

    let audio = new Audio(
      "https://actions.google.com/sounds/v1/alarms/alarm_clock.ogg"
    );
    audio.volume = 1.0;
    audio.play();
  }
}

// Detect tab inactivity
setInterval(() => {
  if(document.hidden){
    status.innerText = "Come back! Study time ðŸ˜¡";
    status.style.color = "red";
    playAlert();
  }
  else{
    status.innerText = "Focused ðŸ˜Š";
    status.style.color = "lime";
  }
}, 3000);
</script>
</body>
</html>
